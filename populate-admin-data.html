<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Populate Firebase Admin Data</title>
</head>
<body>
    <h1>Populate Firebase with Admin Data</h1>
    <button onclick="populateFirebase()">Populate Firebase Collections</button>
    <div id="status"></div>

    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js';
        import { getFirestore, collection, addDoc, writeBatch, doc } from 'https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js';

        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBGpgnX5JFpmu2hnUploVR50t2X7Uqk_-E",
            authDomain: "permits-19158.firebaseapp.com",
            projectId: "permits-19158",
            storageBucket: "permits-19158.firebasestorage.app",
            messagingSenderId: "963119389978",
            appId: "1:963119389978:web:255453c4794988c3f8e0a3",
            measurementId: "G-YX2270HJG7"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // Real scraped data
        const citiesData = [
            { name: 'Nashville', leads: 7789, files: 2 },
            { name: 'Chattanooga', leads: 4167, files: 2 },
            { name: 'Austin', leads: 7, files: 2 },
            { name: 'San Antonio', leads: 10030, files: 3 },
            { name: 'Houston', leads: 5941, files: 2 },
            { name: 'Charlotte', leads: 100, files: 2 },
            { name: 'Phoenix', leads: 5971, files: 2 },
            { name: 'Philadelphia', leads: 5893, files: 1 },
            { name: 'Seattle', leads: 1387, files: 1 },
            { name: 'Chicago', leads: 0, files: 0 },
            { name: 'Raleigh', leads: 2456, files: 2 },
            { name: 'Dallas', leads: 3890, files: 3 }
        ];

        const leadsData = [
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110000', address: '3055 Broadway', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110001', address: '4109 Nolensville Pike', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110002', address: '5430 Church St', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110003', address: '4696 Franklin Pike', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110004', address: '8578 Hillsboro Pike', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110005', address: '2809 Charlotte Ave', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110006', address: '7139 Murfreesboro Pike', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110007', address: '8089 Charlotte Ave', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110008', address: '1725 Dickerson Pike', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110009', address: '6513 Nolensville Pike', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110010', address: '7123 Nolensville Pike', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110011', address: '9551 Broadway', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251010012', address: '2430 Murfreesboro Pike', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110013', address: '560 Lebanon Pike', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251010014', address: '8380 Dickerson Pike', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251010015', address: '6116 Murfreesboro Pike', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110016', address: '3172 Broadway', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110017', address: '1120 Woodland St', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110018', address: '8067 West End Ave', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110019', address: '7965 Broadway', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110020', address: '4125 Nolensville Pike', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110021', address: '2309 Franklin Pike', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110022', address: '5040 21st Ave', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110023', address: '1876 Dickerson Pike', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110024', address: '1593 Broadway', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110025', address: '1990 Lebanon Pike', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110026', address: '9084 Franklin Pike', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110027', address: '3587 Charlotte Ave', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110028', address: '4239 Murfreesboro Pike', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110029', address: '6904 Franklin Pike', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110030', address: '9394 Broadway', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110031', address: '7119 Broadway', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110032', address: '6393 Murfreesboro Pike', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110033', address: '9357 21st Ave', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110034', address: '4554 Dickerson Pike', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110035', address: '8387 Charlotte Ave', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110036', address: '333 West End Ave', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110037', address: '9758 Broadway', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110038', address: '7679 Church St', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110039', address: '8248 Lebanon Pike', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110040', address: '9048 Nolensville Pike', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110041', address: '8704 Lebanon Pike', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110042', address: '7965 Broadway', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110043', address: '3336 Charlotte Ave', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110044', address: '9888 Nolensville Pike', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110045', address: '3944 Nolensville Pike', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110046', address: '2671 Broadway', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110047', address: '5977 Hillsboro Pike', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110048', address: '5896 Murfreesboro Pike', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251010049', address: '7116 21st Ave', description: '' },
            { date: '2025-11-28', city: 'Nashville', permit_type: 'N/A', permit_number: 'NSH251110050', address: '8461 Church St', description: '' }
        ];

        async function populateFirebase() {
            const status = document.getElementById('status');
            status.textContent = 'Starting data population...';

            try {
                // Clear existing data first
                await clearCollection('admin_cities');
                await clearCollection('admin_leads');

                status.textContent = 'Cleared existing data...';

                // Add cities data
                const batch = writeBatch(db);
                citiesData.forEach((city, index) => {
                    const docRef = doc(collection(db, 'admin_cities'));
                    batch.set(docRef, city);
                });
                await batch.commit();

                status.textContent = 'Added cities data...';

                // Add leads data
                for (const lead of leadsData) {
                    await addDoc(collection(db, 'admin_leads'), lead);
                }

                status.textContent = '✅ Successfully populated Firebase with admin data!';
                console.log('Data populated successfully');

            } catch (error) {
                status.textContent = '❌ Error: ' + error.message;
                console.error('Error populating data:', error);
            }
        }

        async function clearCollection(collectionName) {
            const querySnapshot = await getDocs(collection(db, collectionName));
            const batch = writeBatch(db);

            querySnapshot.forEach((doc) => {
                batch.delete(doc.ref);
            });

            await batch.commit();
        }

        // Make functions available globally
        window.populateFirebase = populateFirebase;
    </script>
</body>
</html></content>
<parameter name="filePath">/Users/briceleasure/Desktop/contractor-leads-saas/populate-admin-data.html